{"version":3,"sources":["./src/app/services/cart.service.ts"],"names":[],"mappings":"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","file":"default~pages-checkout-checkout-module~tab1-tab1-module~tab3-tab3-module.js","sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { AlertController, LoadingController, ToastController } from '@ionic/angular';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { CartModel } from '../model/CartModel';\nimport { OrderModel } from '../model/OrderModel';\nimport { ProductModel } from '../model/productModel';\nimport { WriteObject } from './backend.interceptor';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  //local variables\n  private serverUrl: string=environment.backend_api_url;\n  private cartDataArray: CartModel={\n    count: 0,\n    productData: []\n  };\n  private cartData$ = new BehaviorSubject<CartModel>({\n    count:0, productData:[]\n  });\n  private totalAmount=0;\n  private totalAmount$=new BehaviorSubject<number>(0);\n\n  constructor(private httpClient: HttpClient,\n    private loadingController: LoadingController,\n    private alertController: AlertController,\n    private toastController: ToastController,\n    //private storage: Storage,\n    private router: Router) {\n      this.totalAmount=0;\n      if(localStorage.getItem('cart')!==null){\n        this.cartDataArray=JSON.parse(localStorage.getItem('cart')!);\n        this.cartData$.next(this.cartDataArray);\n        this.calculateTotal();\n      }\n     /* this.storage.get('cart').then(data=>{\n        if(data){\n          this.cartDataArray=data;\n          this.cartData$.next(this.cartDataArray);\n        }\n      });*/\n    }\n\n    get cartData(): Observable<CartModel>{\n      return this.cartData$.asObservable();\n    }\n\n    async addToCart(product: ProductModel){\n      const loader: HTMLIonLoadingElement=\n      await this.loadingController.create({\n        message:'Adding to cart...',\n        animated: true,\n        spinner: 'circles',\n        backdropDismiss: false,\n        showBackdrop: true\n      });\n      const alert: HTMLIonAlertElement=\n      await this.alertController.create({\n        header: 'Cart Updated',\n        buttons: [{\n          text: 'Continue',\n          role: 'cancel',\n          cssClass:'continue',\n          handler:()=>{\n            console.log('Product added');\n          }\n        },\n        {\n          text: 'View cart',\n          cssClass: 'view-cart',\n          handler:()=>{\n            this.router.navigateByUrl('/tabs/tab3').then();\n          }\n        }],\n        animated: true,\n        message: 'Product added to cart',\n        backdropDismiss: false,\n        cssClass: 'add-product'\n      });\n      const toast: HTMLIonToastElement=\n      await this.toastController.create({\n        message: 'Only 5 alow in cart',\n        header: 'Max Quantity Reached',\n        duration: 2000,\n        position: 'bottom',\n        animated: true,\n        color: 'warning',\n        buttons:\n        [{\n          side: 'end',\n          role: 'cancel',\n          text: 'Ok'\n        }]\n      });\n      await loader.present().then();\n      //when the cart is not completely empty\n      if(this.cartDataArray.count!==0){\n        const index: number=this.cartDataArray.productData.findIndex(\n          p => p.id === product.id);\n        if(index>-1){\n          this.calculateTotal();\n          if(this.cartDataArray.productData[index].in_cart>=5){\n            this.cartDataArray.productData[index].in_cart=5;\n            //this.storage.set('cart', {...this.cartDataArray}).then();\n            localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n            await loader.dismiss().then();\n            await toast.present().then();\n          }else{\n            this.cartDataArray.productData[index].in_cart +=1;\n            this.calculateTotal();\n            //this.storage.set('cart', {...this.cartDataArray}).then();\n            localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n            await loader.dismiss().then();\n            await alert.present().then();\n          }\n          this.cartData$.next(this.cartDataArray);\n        }else{\n          this.cartDataArray.productData.push(product);\n          const newProductIndex: number = this.cartDataArray.productData.findIndex(\n          p => p.id === product.id);\n          this.cartDataArray.productData[newProductIndex].in_cart =1;\n          this.calculateTotal();\n          await loader.dismiss().then();\n          await alert.present().then();\n          this.cartDataArray.count=this.cartDataArray.productData.length;\n          //this.storage.set('cart', {...this.cartDataArray}).then();\n          localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n          this.cartData$.next(this.cartDataArray);\n        }\n        //end if cart is not empty\n      }else{\n         // eslint-disable-next-line @typescript-eslint/naming-convention\n         this.cartDataArray.productData.push({...product, in_cart:1});\n          this.cartDataArray.count= this.cartDataArray.productData.length;\n          this.calculateTotal();\n          //this.storage.set('cart', {...this.cartDataArray}).then();\n          localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n          await loader.dismiss().then();\n          await alert.present().then();\n          this.cartData$.next(this.cartDataArray);\n      }\n    }\n\n    removeFromCart(product: ProductModel){\n      this.cartDataArray.productData=this.cartDataArray.productData.filter(p=>p.id!==product.id);\n      this.cartDataArray.count=this.cartDataArray.productData.length;\n      this.cartData$.next(this.cartDataArray);\n      this.totalAmount$.next(this.totalAmount);\n      localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n      this.calculateTotal();\n      return this.cartDataArray.productData;\n    }\n\n    calculateTotal(){\n      this.totalAmount=0;\n      if(this.cartDataArray.productData.length===0){\n        this.totalAmount=0;\n        this.totalAmount$.next(this.totalAmount);\n        return;\n      }\n      this.cartDataArray.productData.forEach(p=>{\n        this.totalAmount+=parseInt(p.price, 10)*p.in_cart;\n      });\n      this.totalAmount$.next(this.totalAmount);\n    }\n\n    updateQuantify(indexOfProduct: number, neInCartValue: number){\n      this.cartDataArray.productData[indexOfProduct].in_cart=neInCartValue;\n      this.calculateTotal();\n      localStorage.setItem('cart', JSON.stringify({...this.cartDataArray}));\n      this.cartData$.next(this.cartDataArray);\n      this.totalAmount$.next(this.totalAmount);\n    }\n\n    emptyCart(){\n      this.cartDataArray={\n        count: 0,\n        productData: []\n      };\n      this.calculateTotal();\n      this.cartData$.next(this.cartDataArray);\n    }\n\n    get cartTotal(): Observable<number>{\n      return this.totalAmount$.asObservable();\n    }\n\n    async createOrder(orderData: OrderModel){\n      let headers=new HttpHeaders().set(WriteObject, '');\n      headers=headers.set('Content-Type', 'application/json, charset=utf-8');\n      const loader = await this.loadingController.create({\n        message: 'Placing order...',\n        animated: true,\n        spinner: 'circular'\n      });\n\n      const toast2: HTMLIonToastElement=\n      await this.toastController.create({\n        message: 'Check mail please...',\n        header: 'Complete form',\n        duration: 3000,\n        position: 'top',\n        animated: true,\n        color: 'warning',\n        buttons:\n        [{\n          side: 'end',\n          role: 'cancel',\n          text: 'Ok'\n        }]\n      });\n\n      await loader.present().then();\n      this.httpClient.post(`${this.serverUrl}/orders`, {...orderData}, {headers})\n      .subscribe(async (newOrderDetails: any)=>{\n        await loader.dismiss().then();\n        this.emptyCart();\n        const navigationExtras: NavigationExtras={\n          state:{\n            message: 'Order placed',\n            products: this.cartDataArray.productData,\n            orderId: newOrderDetails.id,\n            total: parseFloat(newOrderDetails.total)\n          }\n        };\n        this.emptyCart();\n        this.router.navigate(['/thankyou'], navigationExtras).then();\n      }, async (err)=>{\n        await loader.dismiss().then();\n        await toast2.present().then();\n        console.log(err);\n      });\n    }\n\n    getAllPaymentGateways(){\n      return this.httpClient.get(`${this.serverUrl}/payment_gateways`);\n    }\n\n    getTaxes(){\n      return this.httpClient.get(`${this.serverUrl}/taxes`);\n    }\n}\n"],"sourceRoot":"webpack:///"}